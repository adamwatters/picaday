<%= form_for(@picture, html: { multipart: true }) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <span>
    <%= hidden_field_tag :sequence_id, sequence_id %>
    <%= f.file_field :image, class: 'hidden', accept: 'image/jpeg,image/gif,image/png' %>
    <label class="button" for="picture_image">Add Picture</label>
  </span>
<% end %>
<script type="text/javascript">
  $('#picture_image').bind('change', function() {
                                                          var size_in_megabytes = this.files[0].size/1024/1024;
                                                          if (size_in_megabytes > 5) {
                                                            alert('Maximum file size is 5MB. Please choose a smaller file.');
                                                          } else {
                                                            $('#new_picture').submit();
                                                          }
                                                        });
</script>